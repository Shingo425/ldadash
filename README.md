# ldadash
## 概要
ldadashは、テキストを入力してクラスタリングを行い、可視化するツールです。
自然言語処理のトピックモデル(LDA)を使用しています。
また、Twitterデータ(要API申請)にも対応しているため、
気になった単語のTwitterの可視化も行うことができます。

自然言語処理ってどんな感じか簡単に試したい方、LDAを回すのにコードをいちいち書くのが面倒な方、LDAの結果を綺麗に見せたい方、tweetの取得からワンストップで分析を行いたい方など、たくさんの方におすすめです！

## 作者
https://twitter.com/shingo97358922

## インストール方法

### docker(推奨)
twitter取得機能なし
```bash
docker run -it -p 8050:8050 shingo425/ldadash
```
twitter取得機能あり(Twitter APIの申請が必要です。)
```bash
docker run -it -p 8050:8050 -e TWEET_API_KEY=<your tweet api key> -e TWEET_API_TOKEN=<your tweet api token> shingo425/ldadash
```
起動させた後、ブラウザに「localhost:8080」を入力してください。
※ dockerのメモリ割り当てが足りないと、メモリエラーになる場合があります。割り当てるメモリは大きめに設定してください。


### conda + git clone
```
conda create -n ldadash python=3.7
git clone https://github.com/Shingo425/ldadash.git
cd ldadash
pip install -r requirements.txt
python ldadash.py
```
※ twitter取得機能を使用する場合、以下の環境変数を設定してください。
```
TWEET_API_KEY=<your tweet api key>
TWEET_API_TOKEN=<your tweet api token>
```

## 使用方法
### 文書分類
![image1](/image/image1.png) 

① csvファイルをドラッグ&ドロップまたは選択

② ①でデータを入力すると、以下の項目が出現します。
* テキスト解析対象項目... テキスト項目名を選択します。必須。
* ラベル項目... ラベル項目名を選択します。テーブルにラベルとして表示されます。
* トピック数... LDAを回す際のトピック数。4から8を選択できます。必須。
* 詳細設定... ③を表示します。
* 実行... LDAを実行します。

③ ②の詳細設定を押すと出現します。
* Stop Word... 「する」、「ある」などの頻出単語を指定します。邪魔になる単語を取り除くことで、正しい分析が可能になります。
* 使用する品詞... 使用する品詞を選択します。

![image2](/image/image2.png) 

④ トピックの可視化... トピックを2次元に次元削減してプロットしています。円をクリックするとそのトピックのみにフィルターされます。

⑤ トピック-単語分布... LDAのトピック-単語分布。それぞれのトピックについて、どの単語が効いているかがわかります。

⑥ 学習済みpklのダウンロード... 学習したモデルを保存します。結果を再現したい場合は、保存した学習済みpklデータを①に入れます。

![image3](/image/image3.png) 

⑦ テーブル... 結果をテーブルで出力する。

⑧ トピックごとの単語分布のダウンロード... ⑤の結果をダウンロードします。sjisにしたい場合は「ファイルのアップロード・ダウンロードをsjisにする」にチェックを入れてください。

⑨ 文書とトピック付与のダウンロード... ⑦の結果をダウンロードします。sjisにしたい場合は「ファイルのアップロード・ダウンロードをsjisにする」にチェックを入れてください。

### twitterから取得
twitterから取得します。API申請が必要になります。
エンドポイントは https://api.twitter.com/1.1/search/tweets.json で、　Bearer Tokenを使用しています。このエンドポイントは無料枠のみであるので、有料になる心配はありません。
WEBアプリとして公開するときは、APIkeyやAPItokenの取扱いについては注意してください。
![image4](/image/image4.png) 

⑩ TWEET_API_KEYとTWEET_API_SECRETを環境変数として入力すると、「twitterから取得」というボタンが現れます。
⑪ 以下の項目を入力します。
* 検索クエリ... twitterを検索するクエリ。RTを除く場合は-RTを入れましょう。""で囲むと、正確にその単語が入った単語になります。
* 取得件数... 取得する件数を指定します。APIの都合上、45000件/15minです。過去7日間しか取得できませんので、取得できた数のみ解析します。

## その他
* このアプリを使用する際は、このgithubのURL、またはtwitterアカウントをクレジットとして入れていただければ、自由に使用、改変、提供等をしていただいて構いません。また、アプリに関する不具合が出た場合、責任は負いません。(MITライセンスです。)
* 感想、疑問点等ありましたら、リプライしていただけるとありがたいです。
